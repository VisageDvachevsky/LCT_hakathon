# Примеры crontab (TZ=Europe/Moscow указывать в окружении cron или в unit systemd)
# 1) Ежечасная обработка данных текущего дня (на 10-й минуте часа)
#    Предполагается, что сырые файлы за день складываются в data/raw/YYYY-MM-DD
10 * * * * cd /path/to/repo && ./scripts/run_etl_today.sh >> artifacts/run_logs/cron-hourly.log 2>&1

# 2) Ночной прогон (01:15) для «закрытия» суток
15 1 * * * cd /path/to/repo && ./scripts/run_etl_today.sh >> artifacts/run_logs/cron-nightly.log 2>&1

# 3) Ежедневный backfill за вчера (на случай поздних файлов)
30 2 * * * cd /path/to/repo && ./scripts/backfill_history.sh $(date -d "yesterday" +\%F) $(date -d "yesterday" +\%F) >> artifacts/run_logs/cron-backfill.log 2>&1

# Примечание для macOS/BSD, где нет `date -d`:
# Используйте gdate (coreutils) или измените скрипт backfill_history.sh на Python-only.